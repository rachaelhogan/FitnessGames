<!--
  Generated template for the GameInstancePage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
      <ion-title>Game</ion-title>
      <ion-buttons end (click)="refreshView()">
          <button>
            <ion-icon name="refresh"></ion-icon>
          </button>
        </ion-buttons>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content padding class={{bgImage}} >
  
      <!--  GAME INVITED -->
      <ion-item *ngIf="gameInvited">
      
        <ion-item *ngIf="!editing">
          <h1 align="center">{{groupName}}</h1>
          <ion-icon item-right (click)="editGroupName()" md="md-color-filter"></ion-icon>
        </ion-item>
      
          <ion-list>
            <ion-item *ngIf="editing">
          <ion-input type='text' name='username' [(ngModel)]="data.groupName" placeholder="Group Name"></ion-input>
          <button ion-button item-right (click)="updateGroupName()"  >UPDATE</button>
          </ion-item>
          </ion-list>
          
          <ion-list *ngIf="ifOwner">
              <ion-item>
                <ion-input type="email" name="email" [(ngModel)]="data.frndemail" placeholder="email"></ion-input>
               
               <button ion-button item-right (click)="addFriend()"  >Add</button>
              </ion-item>
            
            </ion-list> 
            <ion-item>
                Players 
                <ion-list>
                  <ion-item text-wrap *ngFor="let player of playerList;let i = index ">{{player}}
                    <ion-icon *ngIf="ifOwner" item-right (click)="deletePlayer(i)" name = "close" ></ion-icon>
                      
                  </ion-item>
                </ion-list>
              </ion-item>
      </ion-item>
  
      <!--  GAME READY TO PLAY -->
  <ion-item *ngIf="gameReadyToPlay">
  
      <ion-item *ngIf="!editing">
        <h1 align="center">{{groupName}}</h1>
        <ion-icon item-right (click)="editGroupName()" md="md-color-filter"></ion-icon>
      </ion-item>
    
        <ion-list>
          <ion-item *ngIf="editing">
        <ion-input type='text' name='username' [(ngModel)]="data.groupName" placeholder="Group Name"></ion-input>
        <button ion-button item-right (click)="updateGroupName()"  >UPDATE</button>
        </ion-item>
        </ion-list>
        
        <ion-list *ngIf="ifOwner">
            <ion-item>
              <ion-input type="email" name="email" [(ngModel)]="data.frndemail" placeholder="email"></ion-input>
             
             <button ion-button item-right (click)="addFriend()"  >Add</button>
            </ion-item>
          
          </ion-list> 
          <ion-item>
              Players 
              <ion-list>
                <ion-item text-wrap *ngFor="let player of playerList;let i = index ">{{player}}
                  <ion-icon *ngIf="ifOwner" item-right (click)="deletePlayer(i)" name = "close" ></ion-icon>
                    
                </ion-item>
              </ion-list>
            </ion-item>
            <button  ion-button full (click)="StartGame()"  >Play</button>
  
    </ion-item>
  
  
    
    <!--  GAME IN PROGRESS -->
    <ion-item *ngIf="gameInProgress">
    <ion-card-header>
        <button ion-button  large block clear class="timer-button x-large">{{timer.displayTime}}</button>
      </ion-card-header>
    </ion-item>
      
  </ion-content>
    <ion-footer no-shadow *ngIf="gameInProgress" >
        <ion-toolbar position="bottom">
            <ion-item item-start no-lines text-wrap>
                Help your team Escape the Tunnel by getting {{endingActivityTime}} minutes of group activity. 
              </ion-item>
        </ion-toolbar>
      </ion-footer>